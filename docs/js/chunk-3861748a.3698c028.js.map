{"version":3,"sources":["webpack:///./src/experiments/RotateHover.vue?a63c","webpack:///./src/experiments/RotateHover.vue?6ff4","webpack:///src/experiments/RotateHover.vue","webpack:///./src/experiments/RotateHover.vue?d193","webpack:///./src/experiments/RotateHover.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","$event","mouseCard","clearCard","mouseCardChild","clearChildCard","style","staticStyle","staticRenderFns","name","data","limitY","limitX","lerpBorder","scrollAnimWaiting","childnx","hlx","computed","childCardStyle","childny","highlightStyle","hly","methods","rotateTargetDiv","e","target","rotateChildDiv","window","requestAnimationFrame","lerp","a","component"],"mappings":"yIAAA,yBAA0e,EAAG,G,2CCA7e,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACJ,EAAIO,GAAG,qCAAqCH,EAAG,MAAM,CAACE,YAAY,eAAeE,GAAG,CAAC,UAAY,SAASC,GAAQ,OAAOT,EAAIU,UAAUD,IAAS,WAAa,SAASA,GAAQ,OAAOT,EAAIW,UAAUF,MAAW,CAACT,EAAIO,GAAG,sBAAsBH,EAAG,MAAM,CAACJ,EAAIO,GAAG,+CAA+CH,EAAG,IAAI,CAACE,YAAY,iBAAiBE,GAAG,CAAC,UAAY,SAASC,GAAQ,OAAOT,EAAIY,eAAeH,IAAS,WAAa,SAASA,GAAQ,OAAOT,EAAIa,eAAeJ,MAAW,CAACL,EAAG,MAAM,CAACE,YAAY,qBAAqBQ,MAAOd,EAAkB,gBAAG,CAACI,EAAG,MAAM,CAACE,YAAY,iBAAiBQ,MAAOd,EAAkB,iBAAII,EAAG,MAAM,CAACW,YAAY,CAAC,SAAW,WAAW,MAAQ,OAAO,YAAY,SAAS,CAACf,EAAIO,GAAG,gBAAgBH,EAAG,MAAM,CAACW,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,mBAAmB,UAAU,gBAAgB,MAAM,SAAW,WAAW,KAAO,OAAO,OAAS,UAAUX,EAAG,MAAM,CAACW,YAAY,CAAC,SAAW,WAAW,OAAS,OAAO,YAAY,OAAO,KAAO,SAAS,CAACf,EAAIO,GAAG,yBAAyBH,EAAG,MAAM,CAACW,YAAY,CAAC,SAAW,WAAW,OAAS,OAAO,KAAO,QAAQ,cAAc,QAAQ,CAACf,EAAIO,GAAG,WAAWH,EAAG,MAAM,CAACW,YAAY,CAAC,SAAW,WAAW,OAAS,OAAO,KAAO,OAAO,cAAc,QAAQ,CAACf,EAAIO,GAAG,uBACh2CS,EAAkB,GCmBtB,G,UAAA,CACEC,KAAM,GACNC,KAFF,WAGI,MAAO,CAELC,OAAQ,GACRC,OAAQ,GAGRC,WAAY,GAGZC,mBAAmB,EAEnBC,QAAS,EAAT,QAAN,EACMC,IAAK,EAAL,IAAN,IAIEC,SAAU,CACRC,eADJ,WAEM,MAAO,CACL,YAAazB,KAAKsB,QAClB,YAAatB,KAAK0B,UAGtBC,eAPJ,WAQM,MAAO,CACL,QAAS3B,KAAKuB,IACd,QAASvB,KAAK4B,OAIpBC,QAAS,CACPpB,UADJ,SACA,cACA,yBACQT,KAAKqB,mBAAoB,EAIzB,OAAR,kCACU,EAAV,wBAIIV,eAZJ,SAYA,cACA,yBACQX,KAAKqB,mBAAoB,EAIzB,OAAR,kCACU,EAAV,uBAMIS,gBAzBJ,SAyBA,GACM,IAAN,mCACA,0DAEA,gFAKMC,EAAEC,OAAOnB,MAAQ,sBAAvB,4CACMb,KAAKqB,mBAAoB,GAE3BY,eArCJ,SAqCA,GACM,IAAN,mCACA,0DACA,gFAEMjC,KAAKsB,QAAU,GAArB,gBACMtB,KAAK0B,QAAU,GAArB,gBACM1B,KAAKuB,IAAM,GAAjB,oBACMvB,KAAK4B,IAAM,GAAjB,mBACM5B,KAAKqB,mBAAoB,GAK3BX,UAnDJ,SAmDA,GACMwB,OAAOC,uBAAsB,WAC3BJ,EAAEC,OAAOnB,MAAjB,6CAGID,eAxDJ,SAwDA,cACMsB,OAAOC,uBAAsB,WAC3B,EAAR,eACQ,EAAR,eACQ,EAAR,QACQ,EAAR,YAGIC,KAhEJ,SAgEA,OACM,OAAOC,EAAI,GAAjB,SCtHqV,I,wBCQjVC,EAAY,eACd,EACAxC,EACAiB,GACA,EACA,KACA,WACA,MAIa,aAAAuB,E","file":"js/chunk-3861748a.3698c028.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotateHover.vue?vue&type=style&index=0&id=3568190e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotateHover.vue?vue&type=style&index=0&id=3568190e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"perspective-parent\"},[_c('div',[_vm._v(\"No debounce, rotate target div.\")]),_c('div',{staticClass:\"rounded-card\",on:{\"mousemove\":function($event){return _vm.mouseCard($event)},\"mouseleave\":function($event){return _vm.clearCard($event)}}},[_vm._v(\"Rounded Card Div\")]),_c('div',[_vm._v(\"No debounce, rotate child div of wrapper.\")]),_c('a',{staticClass:\"parent-to-card\",on:{\"mousemove\":function($event){return _vm.mouseCardChild($event)},\"mouseleave\":function($event){return _vm.clearChildCard($event)}}},[_c('div',{staticClass:\"rounded-card-child\",style:(_vm.childCardStyle)},[_c('div',{staticClass:\"card-highlight\",style:(_vm.highlightStyle)}),_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"10px\",\"font-size\":\"28px\"}},[_vm._v(\"CC Company\")]),_c('div',{staticStyle:{\"width\":\"60px\",\"height\":\"45px\",\"background-color\":\"#e4e4a0\",\"border-radius\":\"5px\",\"position\":\"absolute\",\"left\":\"50px\",\"bottom\":\"95px\"}}),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"60px\",\"font-size\":\"24px\",\"left\":\"50px\"}},[_vm._v(\"1111 2222 3333 4444\")]),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"30px\",\"left\":\"145px\",\"font-weight\":\"300\"}},[_vm._v(\"12/24\")]),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"10px\",\"left\":\"20px\",\"font-weight\":\"300\"}},[_vm._v(\"First Last\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"perspective-parent\">\r\n    <div>No debounce, rotate target div.</div>\r\n    <div class=\"rounded-card\" @mousemove=\"mouseCard($event)\" @mouseleave=\"clearCard($event)\">Rounded Card Div</div>\r\n\r\n    <div>No debounce, rotate child div of wrapper.</div>\r\n    <a class=\"parent-to-card\" @mousemove=\"mouseCardChild($event)\" @mouseleave=\"clearChildCard($event)\">\r\n      <div class=\"rounded-card-child\" :style=\"childCardStyle\">\r\n        <div class=\"card-highlight\" :style=\"highlightStyle\"></div>\r\n        <div style=\"position: absolute; right: 10px; font-size: 28px\">CC Company</div>\r\n        <div style=\"width: 60px; height: 45px; background-color: #e4e4a0; border-radius: 5px; position: absolute; left: 50px; bottom: 95px\"/>\r\n        <div style=\"position: absolute; bottom: 60px; font-size: 24px; left: 50px\">1111 2222 3333 4444</div>\r\n        <div style=\"position: absolute; bottom: 30px; left: 145px; font-weight: 300\">12/24</div>\r\n        <div style=\"position: absolute; bottom: 10px; left: 20px; font-weight: 300\">First Last</div>\r\n      </div>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: '',\r\n  data() {\r\n    return {\r\n      // Degree limits on the animation\r\n      limitY: 20,\r\n      limitX: 15,\r\n\r\n      // Border limit for lerp to floor/ceil\r\n      lerpBorder: 0.1,\r\n\r\n      // Other stuff\r\n      scrollAnimWaiting: false,\r\n\r\n      childnx: 0, childny: 0,\r\n      hlx: 0, hly: 0,\r\n      \r\n    }\r\n  },\r\n  computed: {\r\n    childCardStyle() {\r\n      return {\r\n        '--childnx': this.childnx,\r\n        '--childny': this.childny,\r\n      };\r\n    },\r\n    highlightStyle() {\r\n      return {\r\n        '--hlx': this.hlx,\r\n        '--hly': this.hly,\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    mouseCard(e) {\r\n      if(!this.scrollAnimWaiting) {\r\n        this.scrollAnimWaiting = true;\r\n\r\n          // Smart thing to do would be queueing up animations that get run in a single animation frame callback with a single\r\n          //   mutex controlling it, but I'm lazy rn so assume there's only one animation running at any given time. \r\n          window.requestAnimationFrame(() => {\r\n            this.rotateTargetDiv(e);\r\n          });\r\n        }\r\n    },\r\n    mouseCardChild(e) {\r\n      if(!this.scrollAnimWaiting) {\r\n        this.scrollAnimWaiting = true;\r\n\r\n          // Smart thing to do would be queueing up animations that get run in a single animation frame callback with a single\r\n          //   mutex controlling it, but I'm lazy rn so assume there's only one animation running at any given time. \r\n          window.requestAnimationFrame(() => {\r\n            this.rotateChildDiv(e);\r\n          });\r\n        }\r\n    },\r\n\r\n\r\n    rotateTargetDiv(e) {\r\n      let b = e.target.getBoundingClientRect();\r\n      let nx = (e.clientX - b.left) / b.width, ny = (e.clientY - b.top) / b.height;\r\n      \r\n      let rx = this.lerp(nx, -this.limitX, this.limitX), ry = this.lerp(ny, this.limitY, -this.limitY);\r\n\r\n      // console.log(`${nx}, ${ny}`);\r\n      // console.log(`transform: rotateX(${rx}deg) rotateY(${ry}deg);`);\r\n\r\n      e.target.style = `transform: rotateY(${rx}deg) rotateX(${ry}deg);`;\r\n      this.scrollAnimWaiting = false;\r\n    },\r\n    rotateChildDiv(e) {\r\n      let b = e.target.getBoundingClientRect();\r\n      let nx = (e.clientX - b.left) / b.width, ny = (e.clientY - b.top) / b.height;\r\n      let rx = this.lerp(nx, -this.limitX, this.limitX), ry = this.lerp(ny, this.limitY, -this.limitY);\r\n      // e.target.style = `transform: rotateY(${rx}deg) rotateX(${ry}deg);`;\r\n      this.childnx = `${rx}deg`\r\n      this.childny = `${ry}deg`;\r\n      this.hlx = `${-rx * 3.5}px`\r\n      this.hly = `${ry  * 1.5}px`;\r\n      this.scrollAnimWaiting = false;\r\n    },\r\n    // Mouseleave would be better in this case, since I don't wanna track events thrown by leaving child divs\r\n    // This also makes me think; maybe I should run these mouse events on an invisible wrapper, and pass down a CSS variable to the children to consume?\r\n\r\n    clearCard(e) {\r\n      window.requestAnimationFrame(() => {\r\n        e.target.style=\"transform: rotateY(0deg) rotateX(0deg)\";\r\n      });\r\n    },    \r\n    clearChildCard(e) {\r\n      window.requestAnimationFrame(() => {\r\n        this.childnx = `0deg`;\r\n        this.childny = `0deg`;\r\n        this.hlx = `0`;\r\n        this.hly = `0`;\r\n      });\r\n    },\r\n    lerp(t, a, b) {\r\n      return a + (t * (b - a));\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.rounded-card {\r\n  display: inline-block;\r\n  color: white;\r\n  padding: 10px;\r\n  min-height: 200px;\r\n  min-width: 400px;\r\n  border-radius: 3px;\r\n  background-color: #524b4b;\r\n\r\n  transition: transform 0.15s ease;\r\n}\r\n.rounded-card-child {\r\n  pointer-events: none;\r\n  display: inline-block;\r\n  position: relative;\r\n  color: white;\r\n  padding: 10px;\r\n  min-height: 200px;\r\n  min-width: 400px;\r\n  border-radius: 3px;\r\n  background-color: #853d3d;\r\n\r\n  transition: transform 0.1s ease;\r\n  transform: rotateY(var(--childnx)) rotateX(var(--childny));\r\n}\r\n.parent-to-card {\r\n  display: inline-block;\r\n  cursor: pointer;\r\n}\r\n.parent-to-card:active .rounded-card-child {\r\n  background-color: #853d3d;\r\n  transform: rotateY(var(--childnx)) rotateX(var(--childny)) scale(0.9);\r\n}\r\n.perspective-parent {\r\n  perspective: 750px;\r\n}\r\n\r\n\r\n.card-highlight {\r\n  position: absolute;\r\n  left: 100px;\r\n  width: 200px;\r\n  height: 200px;\r\n  background-color: #ffffff09;\r\n  clip-path: circle();\r\n  transform: translateX(var(--hlx)) translateY(var(--hly));\r\n  transition: transform 0.1s ease;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotateHover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotateHover.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RotateHover.vue?vue&type=template&id=3568190e&scoped=true&\"\nimport script from \"./RotateHover.vue?vue&type=script&lang=js&\"\nexport * from \"./RotateHover.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RotateHover.vue?vue&type=style&index=0&id=3568190e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3568190e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}